{
  "permissions": {
    "allow": [
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" ls-files:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" commit -m \"$(cat <<''EOF''\nfix: Update DATABASE_URL to use correct Supabase pooler host\n\nCRITICAL FIX for Prisma connection error:\n\n- Change DATABASE_URL host from db.ipghppjjhjbkhuqzqzyq.supabase.co:6543\n  to aws-1-us-east-2.pooler.supabase.com:6543\n- The original host doesn''t support port 6543 (transaction pooler)\n- Fixes \"Can 't reach database server\" error\n- Connection test verified: âœ… working\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(npx tsx:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" commit -m \"$(cat <<''EOF''\nfeat: Protect all ADMIN accounts from deletion\n\n- Disable delete button for ALL users with ADMIN role (not just specific email)\n- Update handleDeleteUser to prevent deletion of any ADMIN account\n- Update tooltip messages: \"Les comptes administrateurs sont protÃ©gÃ©s\"\n- Applies to both desktop and mobile views\n- Prevents accidental deletion of administrator accounts via UI\n\nBuild verified: 26 pages compiled successfully\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(pnpm prisma db push:*)",
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(find:*)",
      "Bash(pnpm prisma migrate:*)",
      "Bash(pnpm prisma generate:*)",
      "Bash(pnpm add:*)",
      "Bash(pnpm dlx:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(pnpm remove:*)",
      "Bash(pnpm update:*)",
      "Bash(timeout /t 3)",
      "Bash(npx tsc:*)",
      "Bash(npx @next/codemod@canary next-async-request-api .)",
      "Bash(node:*)",
      "Bash(echo:*)",
      "Read(//c/Users/nexon/AppData/Roaming/**)",
      "Bash(dir:*)",
      "Bash(del:*)",
      "Bash(cat:*)",
      "Bash(pnpm dev)",
      "Bash(pnpm build:*)",
      "Bash(timeout /t 30)",
      "Bash(findstr:*)",
      "Bash(vercel:*)",
      "Bash(git push:*)",
      "Bash(pnpm prisma db:*)",
      "Bash(ping:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" status)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" diff --stat)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" log -3 --oneline)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" add .)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" commit -m \"$(cat <<''EOF''\nfeat: Major UI improvements and hydration fixes\n\nCRITICAL FIX - Avatar Hydration Mismatch:\n- Fix React hydration error in AppSidebar avatar component\n- Add suppressHydrationWarning to AvatarFallback\n- Use mounted state to prevent server/client mismatch\n- Avatar now shows ''U'' during SSR, then updates to user initials client-side\n\nUI Component Enhancements:\n- Enhanced task calendar with improved date handling and event display\n- Improved task views (Gantt, Kanban, List, Roadmap) with better UX\n- Updated shadcn UI components for better consistency\n- Added new task table component with TypeScript types\n\nHR Timesheet Improvements:\n- Enhanced HR timesheet page with better layout and functionality\n- Improved timesheet detail and validation pages\n- Added new actions for HR timesheet management\n\nDatabase & Schema Updates:\n- Updated Prisma schema with new fields and relations\n- Optimized database queries and indexes\n\nOther Improvements:\n- Updated global styles for better theming\n- Improved notification dropdown\n- Enhanced appearance settings section\n- Better mobile responsiveness across components\n\nFiles changed: 30 modified, 2 new files\nStats: +979 additions, -360 deletions\n\nBuild verified: âœ… 28 pages compiled successfully\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" push origin main)",
      "Bash(nul)",
      "Bash(test:*)",
      "Bash(for file in src/app/dashboard/*/page.tsx src/app/dashboard/*/*/page.tsx)",
      "Bash(do [ -f \"$file\" ])",
      "Bash(head:*)",
      "Bash(done)",
      "Bash(taskkill:*)",
      "Bash(if exist \".next\" rd /s /q \".next\")",
      "Bash(pkill:*)",
      "Bash(timeout /t 15)",
      "Bash(cmd /c \"taskkill /F /PID 11008\")",
      "Bash(if exist \".next\\dev\\lock\" del /f \".next\\dev\\lock\")",
      "Bash(powershell.exe:*)",
      "Bash(tee:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm -r:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"src/actions/timesheet.actions.ts\")",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"src/lib/validations/timesheet.ts\")",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"src/lib/utils/timesheet.utils.ts\")",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"src/components/features/timesheet-entry-card.tsx\" \"src/components/features/weekly-timesheet.tsx\" \"src/components/features/timesheet-area-chart.tsx\" \"src/components/features/timesheet-radar-chart.tsx\" \"src/components/features/timesheet-quick-entry.tsx\" \"src/components/features/timesheet-form.tsx\")",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"src/actions/validation.actions.ts\" \"src/components/features/validation-dialog.tsx\")",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"scripts/utilities/migrate-users.ts\" \"scripts/utilities/delete-admin-direct.ts\" \"scripts/testing/test-validation.ts\" \"scripts/setup/setup-admin.ts\" \"scripts/setup/create-admin-direct.ts\")",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"src/actions/report.actions.ts\" \"src/actions/export.actions.ts\")",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"src/components/features/bulk-validation-toolbar.tsx\" \"src/components/features/chart-area-interactive.tsx\")",
      "Bash(timeout 120 npm run build:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" rm \"src/app/global-error.tsx\")",
      "Bash(timeout 180 pnpm build:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" status:*)",
      "Bash(timeout 30 pnpm dev:*)",
      "Bash(git -C \"c:/Users/nexon/chronodil_app_clone/CHRONODIL_app\" commit -m \"$(cat <<''EOF''\nrefactor: Remove timesheet feature and fix hydration error\n\nMAJOR CLEANUP - Complete removal of timesheet functionality:\n\n**Timesheet Feature Removal:**\n- Deleted /dashboard/timesheet page and all related routes\n- Deleted /dashboard/validation and /dashboard/validations pages  \n- Deleted /dashboard/reports page and all report components\n- Removed TimesheetEntry and TimesheetValidation models from Prisma schema\n- Created SQL cleanup script: sql-scripts/cleanup/DELETE_TIMESHEET_TABLES.sql\n- Removed all timesheet-related actions, components, and utilities (31 files deleted)\n\n**Code Cleanup:**\n- Removed TimesheetEntry references from:\n  - src/actions/project.actions.ts\n  - src/actions/task.actions.ts  \n  - src/actions/user.actions.ts\n  - src/types/project.types.ts\n  - src/app/dashboard/tasks/page.tsx (removed \"Saisies\" column)\n  - src/app/dashboard/audit/page.tsx (removed from filter options)\n- Removed timesheet notification functions from Inngest (helpers.ts, functions.ts)\n- Removed TIMESHEETS cache tag\n\n**Dashboard Redesign:**\n- Replaced timesheet statistics with task-based statistics\n- New stats: Todo count, In Progress count, Done count\n- Displays active projects and recent tasks instead of time tracking\n\n**Sidebar Updates:**\n- Removed navigation links: Feuilles de temps, Validation, Validations Manager, Rapports\n- Kept HR Timesheet link (different feature)\n\n**CRITICAL FIX - AppSidebar Hydration Error:**\n- Fixed hydration mismatch in src/components/layout/app-sidebar.tsx\n- Removed `mounted` check from `filteredNavMain` and `filteredNavSettings`\n- Navigation items now render consistently on server and client\n- Kept `suppressHydrationWarning` only on dynamic user content (avatar, name, email)\n- Resolves: \"Hydration failed because the server rendered HTML didn 't match the client\"\n\n**Files Changed:**\n- 31 files deleted (timesheet feature)\n- 14 files modified (cleanup + hydration fix)\n- 2 files created (SQL script + docs)\n- 1 file renamed (global-error.tsx.bak)\n\nAll TypeScript references to TimesheetEntry removed. Application now compiles without timesheet dependencies.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "shadcn",
    "next-devtools"
  ]
}
